<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Reseñas — Mi Sitio</title>
<meta name="description" content="Reseñas de productos, libros y más. Filtrado por categorías y calendario.">
<style>
  :root{
    --bg:#f7f9fc;
    --accent:#0b74de;
    --muted:#555;
    --salud:#fcd5ce;
    --informatica:#cdeac0;
    --libros:#c0d6e4;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:Inter,system-ui,Arial;background:var(--bg);color:#111;line-height:1.5}
  .nav{background:#fff;border-bottom:1px solid #eee;padding:12px 18px;position:sticky;top:0;z-index:80}
  .nav a{margin-left:14px;text-decoration:none;color:#333;font-weight:600}
  .wrap{max-width:1100px;margin:18px auto;padding:18px}
  h1{color:var(--accent);margin-bottom:14px}
  .controls{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px}
  select,input[type=text]{padding:8px;border-radius:8px;border:1px solid #ddd}
  button.btn{padding:8px 10px;border-radius:8px;border:none;background:var(--accent);color:#fff;cursor:pointer}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
  .card{padding:12px;border-radius:10px;background:#fff;border:1px solid #eef2f7}
  .card h3{margin-bottom:6px}
  .meta{font-size:13px;color:var(--muted)}
  .calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-top:12px}
  .day{padding:10px;border-radius:6px;text-align:center;background:#fff;border:1px solid #eee}
  .day.salud{background:var(--salud)}
  .day.informatica{background:var(--informatica)}
  .day.libros{background:var(--libros)}
  footer{text-align:center;color:var(--muted);margin-top:18px;padding:12px;font-size:13px}
</style>
</head>
<body>
<header class="nav">
  <div class="wrap" style="display:flex;justify-content:space-between;align-items:center">
    <div><strong>Mi Sitio</strong></div>
    <nav>
      <a href="index.html">Inicio</a>
      <a href="libros.html" style="margin-left:12px">Libros</a>
      <a href="about.html" style="margin-left:12px">Sobre mí</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <h1>Reseñas</h1>

  <div class="controls">
    <input type="text" id="searchInput" placeholder="Buscar por producto...">
    <select id="categorySelect">
      <option value="">Todas las categorías</option>
      <option value="salud">Salud</option>
      <option value="informatica">Informática</option>
      <option value="libros">Libros</option>
    </select>
    <select id="subcatSelect">
      <option value="">Todas las subcategorías</option>
    </select>
  </div>

  <section id="reviewsList" class="grid">
    <!-- Reseñas dinámicas -->
  </section>

  <h2 style="margin-top:18px">Calendario de publicaciones</h2>
  <div id="calendar" class="calendar">
    <!-- Dias coloreados -->
  </div>

  <footer>
    © 2025 [Tu Nombre] — Resumen de reseñas y calendario.
  </footer>
</main>

<script>
  const reviews = [
    {name:'Mindfulness Diario',category:'salud',sub:'Salud mental',date:'2025-08-10',desc:'Guía sobre meditación y reducción de estrés.'},
    {name:'Laptop Ultra X',category:'informatica',sub:'Hardware',date:'2025-08-12',desc:'Opinión sobre la nueva laptop de gama media-alta.'},
    {name:'Narrativa Contemporánea',category:'libros',sub:'Narrativa',date:'2025-08-15',desc:'Reseña de libro con estilo intenso y directo.'},
    {name:'Vitaminas y Suplementos',category:'salud',sub:'Nutrición',date:'2025-08-20',desc:'Revisión sobre suplementos y alimentación.'},
    {name:'Curso JavaScript',category:'informatica',sub:'Software',date:'2025-08-22',desc:'Opinión sobre curso online de JS.'}
  ];

  const subcats = {
    salud:['Salud mental','Nutrición','Fitness'],
    informatica:['Software','Hardware','Web'],
    libros:['Narrativa','Ensayo','Técnico']
  };

  const categorySelect = document.getElementById('categorySelect');
  const subcatSelect = document.getElementById('subcatSelect');
  const searchInput = document.getElementById('searchInput');
  const reviewsList = document.getElementById('reviewsList');

  function renderReviews(){
    const cat = categorySelect.value;
    const sub = subcatSelect.value;
    const query = searchInput.value.toLowerCase();
    reviewsList.innerHTML = '';
    const filtered = reviews.filter(r=>{
      const matchCat = !cat || r.category===cat;
      const matchSub = !sub || r.sub===sub;
      const matchQuery = r.name.toLowerCase().includes(query);
      return matchCat && matchSub && matchQuery;
    });
    if(filtered.length===0){
      reviewsList.innerHTML='<div class="card meta">No hay reseñas para los filtros seleccionados.</div>';
      return;
    }
    filtered.forEach(r=>{
      const div = document.createElement('div');
      div.className='card';
      div.innerHTML=`<h3>${r.name}</h3><div class="meta">${r.category} › ${r.sub} — ${r.date}</div><p>${r.desc}</p>`;
      reviewsList.appendChild(div);
    });
  }

  categorySelect.addEventListener('change', ()=>{
    const cat = categorySelect.value;
    subcatSelect.innerHTML='<option value="">Todas las subcategorías</option>';
    if(cat && subcats[cat]){
      subcats[cat].forEach(s=>{
        const opt = document.createElement('option'); opt.value=s; opt.textContent=s;
        subcatSelect.appendChild(opt);
      });
    }
    renderReviews();
    renderCalendar();
  });
  subcatSelect.addEventListener('change', renderReviews);
  searchInput.addEventListener('input', renderReviews);

  // calendario
  const calendarEl = document.getElementById('calendar');
  function renderCalendar(){
    calendarEl.innerHTML='';
    const today = new Date();
    const year = today.getFullYear();
    const month = today.getMonth();
    const daysInMonth = new Date(year,month+1,0).getDate();
    for(let d=1; d<=daysInMonth; d++){
      const dayStr = `${year}-${String(month+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
      const dayDiv = document.createElement('div'); dayDiv.className='day';
      const dayReviews = reviews.filter(r=>r.date===dayStr);
      if(dayReviews.length>0){
        const cat = dayReviews[0].category;
        dayDiv.classList.add(cat);
        dayDiv.title=dayReviews.map(r=>r.name).join(', ');
      }
      dayDiv.textContent=d;
      calendarEl.appendChild(dayDiv);
    }
  }

  renderReviews();
  renderCalendar();
</script>
</body>
</html>
